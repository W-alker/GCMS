<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div id="gms-map-box">
    </div>
</body>
<style>
    * {
        margin: 0;
        padding: 0;
    }

    body {
        overflow: hidden;
    }

    #gms-map-box {
        width: 100vw;
        height: 100vh;
    }
</style>
<script src="//api.map.baidu.com/api?type=webgl&v=1.0&ak=0VRX34GcD15QpbTbGiVSxhQxrRHVUIP6"></script>
<script>
    let map = new BMapGL.Map("gms-map-box"); // 创建Map实例
    map.centerAndZoom(new BMapGL.Point(117.204384, 31.760012), 20); // 初始化地图,设置中心点坐标和地图级别
    //3d视角
    map.setHeading(64.5);
    map.setTilt(60);
    //创建几个垃圾分类回收点标记作为示例
    // 创建点标记
    var marker1 = new BMapGL.Marker(new BMapGL.Point(117.202439, 31.758872));
    var marker2 = new BMapGL.Marker(new BMapGL.Point(117.202807, 31.75911));
    var marker3 = new BMapGL.Marker(new BMapGL.Point(117.203122, 31.759394));
    var marker4 = new BMapGL.Marker(new BMapGL.Point(117.203405, 31.59659));
    var marker5 = new BMapGL.Marker(new BMapGL.Point(117.203724, 31.759916));
    var marker6 = new BMapGL.Marker(new BMapGL.Point(117.203122, 31.758542));
    var marker7 = new BMapGL.Marker(new BMapGL.Point(117.203459, 31.758542));
    var marker8 = new BMapGL.Marker(new BMapGL.Point(117.203773, 31.758795));
    var marker9 = new BMapGL.Marker(new BMapGL.Point(117.204097, 31.759072));
    var marker10 = new BMapGL.Marker(new BMapGL.Point(117.204254, 31.759624));
    var marker11 = new BMapGL.Marker(new BMapGL.Point(117.203445, 31.75969));
    var marker12 = new BMapGL.Marker(new BMapGL.Point(117.20332, 31.76038));
    var marker13 = new BMapGL.Marker(new BMapGL.Point(117.2641, 31.759851));
    var marker14 = new BMapGL.Marker(new BMapGL.Point(117.205273, 31.761064));
    var marker15 = new BMapGL.Marker(new BMapGL.Point(117.206333, 31.760722));
    var marker16 = new BMapGL.Marker(new BMapGL.Point(117.205269, 31.761701));
    var marker17 = new BMapGL.Marker(new BMapGL.Point(117.206571, 31.762226));
    var marker18 = new BMapGL.Marker(new BMapGL.Point(117.208319, 31.761716));
    var marker19 = new BMapGL.Marker(new BMapGL.Point(117.207398, 31.761731));
    var marker20 = new BMapGL.Marker(new BMapGL.Point(117.208211, 31.76106));
    var marker21 = new BMapGL.Marker(new BMapGL.Point(117.20265, 31.75987));
    var marker22 = new BMapGL.Marker(new BMapGL.Point(117.20195, 31.759667));
    // 在地图上添加点标记
    map.addOverlay(marker1);
    map.addOverlay(marker2);
    map.addOverlay(marker3);
    map.addOverlay(marker4);
    map.addOverlay(marker5);
    map.addOverlay(marker6);
    map.addOverlay(marker7);
    map.addOverlay(marker8);
    map.addOverlay(marker9);
    map.addOverlay(marker10);
    map.addOverlay(marker11);
    map.addOverlay(marker12);
    map.addOverlay(marker13);
    map.addOverlay(marker14);
    map.addOverlay(marker15);
    map.addOverlay(marker16);
    map.addOverlay(marker17);
    map.addOverlay(marker18);
    map.addOverlay(marker19);
    map.addOverlay(marker20);
    map.addOverlay(marker21);
    map.addOverlay(marker22);

    // 创建定位控件
    var locationControl = new BMapGL.LocationControl({
        // 控件的停靠位置（可选，默认左上角）
        anchor: BMAP_ANCHOR_TOP_RIGHT,
        // 控件基于停靠位置的偏移量（可选）
        offset: new BMapGL.Size(20, 20),
    });
    // 将控件添加到地图上
    map.addControl(locationControl);
    // 添加定位事件
    locationControl.addEventListener("locationSuccess", function (e) {
        var address = "";
        address += e.addressComponent.province;
        address += e.addressComponent.city;
        address += e.addressComponent.district;
        address += e.addressComponent.street;
        address += e.addressComponent.streetNumber;
        alert("当前定位地址为：" + address);
    });
    locationControl.addEventListener("locationError", function (e) {
        alert(e.message);
    });

    //缩放和比例尺控件
    map.enableScrollWheelZoom(true); //开启鼠标滚轮缩放
    var scaleCtrl = new BMapGL.ScaleControl(); // 添加比例尺控件
    map.addControl(scaleCtrl);
    var zoomCtrl = new BMapGL.ZoomControl(); // 添加比例尺控件
    map.addControl(zoomCtrl);
</script>

</html>